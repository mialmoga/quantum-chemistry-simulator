<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Quantum Chemistry Simulator</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="stylesheet" href="src/styles/panels.css">
    <link rel="stylesheet" href="src/styles/themes.css">
</head>
<body>

<!-- Collapse Buttons -->
<button class="collapse-btn" id="collapseUI">â—€</button>
<button class="collapse-btn" id="collapseElements">â–¼</button>
<button class="collapse-btn" id="collapseMolecules">â–¶</button>

<!-- Main UI Panel -->
<div id="ui">
    <h3>âš›ï¸ Quantum Chemistry Simulator</h3>
    <div class="info-text">
        Tap para agregar â€¢ Arrastra para rotar â€¢ Pinch para zoom
    </div>
    <div class="stat-row">
        <span>Ãtomos:</span>
        <span class="stat-value" id="atomCount">0</span>
    </div>
    <div class="stat-row">
        <span>MolÃ©culas:</span>
        <span class="stat-value" id="moleculeCount">0</span>
    </div>
    <div class="stat-row">
        <span>Enlaces:</span>
        <span class="stat-value" id="bondCount">0</span>
    </div>
    <div class="stat-row">
        <span>Seleccionado:</span>
        <span class="stat-value" id="selectedElement">-</span>
    </div>
    <div class="toggle-group">
        <button class="control-btn" id="toggleVisualization">â˜ï¸ Nubes</button>
        <button class="control-btn" id="toggleElectrons">âš›ï¸ Todos</button>
        <button class="control-btn" id="modeBtn">â• Agregar</button>
        <button class="control-btn" id="clearBtn">ğŸ—‘ï¸ Limpiar</button>
    </div>
</div>

<!-- Physics Panel -->
<div id="physicsPanel" style="
    position: fixed;
    bottom: 20px;
    left: 15px;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(15px);
    padding: 18px 20px;
    border-radius: 16px;
    border: 1px solid rgba(100, 200, 255, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8);
    font-size: 13px;
    max-width: 280px;
    z-index: 100;
    color: #64c8ff;
">
    <h3 style="margin: 0 0 12px 0; font-size: 16px; color: #ffffff;">ğŸŒ FÃ­sica</h3>
    
    <div style="margin-bottom: 12px;">
        <label style="display: flex; align-items: center; cursor: pointer;">
            <input type="checkbox" id="gravityToggle" style="margin-right: 8px;">
            <span>Gravedad</span>
        </label>
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 4px; font-size: 11px; opacity: 0.8;">
            Intensidad: <span id="gravityValue">5</span>
        </label>
        <input type="range" id="gravitySlider" min="0" max="10" value="5" step="0.5"
               style="width: 100%; accent-color: #64c8ff;">
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: flex; align-items: center; cursor: pointer;">
            <input type="checkbox" id="floorToggle" checked style="margin-right: 8px;">
            <span>Piso</span>
        </label>
    </div>
    
    <div style="margin-bottom: 8px;">
        <label style="display: block; margin-bottom: 4px; font-size: 11px; opacity: 0.8;">
            Visibilidad: <span id="floorOpacityValue">0.15</span>
        </label>
        <input type="range" id="floorOpacitySlider" min="0" max="1" value="0.15" step="0.05"
               style="width: 100%; accent-color: #64c8ff;">
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 4px; font-size: 11px; opacity: 0.8;">
            Brillo: <span id="floorBrightnessValue">0.1</span>
        </label>
        <input type="range" id="floorBrightnessSlider" min="0" max="1" value="0.1" step="0.1"
               style="width: 100%; accent-color: #64c8ff;">
    </div>
    
    <div>
        <label style="display: block; margin-bottom: 4px; font-size: 11px; opacity: 0.8;">
            Rebote: <span id="bounceValue">0.6</span>
        </label>
        <input type="range" id="bounceSlider" min="0" max="1" value="0.6" step="0.1"
               style="width: 100%; accent-color: #64c8ff;">
    </div>
</div>

<!-- Molecule Panel -->
<div class="molecule-panel">
    <div class="molecule-panel-title">MolÃ©culas Preestablecidas</div>
    <div id="moleculeButtons"></div>
</div>

<!-- Element Selector -->
<div class="element-selector" id="elementSelector">
    <div class="element-grid" id="elementGrid"></div>
</div>

<!-- Hint -->
<div id="hint"></div>

<!-- Crystal Panel -->
<div id="crystalPanel" style="
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(15px);
    padding: 18px 20px;
    border-radius: 16px;
    border: 1px solid rgba(100, 200, 255, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8);
    font-size: 13px;
    max-width: 280px;
    z-index: 100;
    color: #64c8ff;
">
    <h3 style="margin: 0 0 12px 0; font-size: 16px; color: #ffffff;">ğŸ’ Cristales</h3>
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 12px;">
        <button class="control-btn" id="crystalNaCl" style="font-size: 11px; padding: 8px;">
            ğŸ§‚ NaCl
        </button>
        <button class="control-btn" id="crystalFe" style="font-size: 11px; padding: 8px;">
            ğŸ”© Hierro
        </button>
        <button class="control-btn" id="crystalDiamond" style="font-size: 11px; padding: 8px;">
            ğŸ’ Diamante
        </button>
        <button class="control-btn" id="crystalIce" style="font-size: 11px; padding: 8px;">
            â„ï¸ Hielo
        </button>
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 4px; font-size: 11px; opacity: 0.8;">
            TamaÃ±o: <span id="crystalSizeValue">3</span>Ã—<span id="crystalSizeValue2">3</span>Ã—<span id="crystalSizeValue3">3</span>
        </label>
        <input type="range" id="crystalSizeSlider" min="2" max="6" value="3" step="1"
               style="width: 100%; accent-color: #64c8ff;">
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: flex; align-items: center; cursor: pointer;">
            <input type="checkbox" id="freezeCrystalToggle" style="margin-right: 8px;">
            <span>Congelar estructura</span>
        </label>
    </div>
</div>

<!-- Collapse Buttons -->
<button id="collapsePhysics" style="
    position: fixed;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(100, 200, 255, 0.3);
    color: #64c8ff;
    padding: 6px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    z-index: 101;
">â–² FÃ­sica</button>

<button id="collapseCrystal" style="
    position: fixed;
    top: 50px;
    right: 50%;
    transform: translateX(50%);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(100, 200, 255, 0.3);
    color: #64c8ff;
    padding: 6px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    z-index: 101;
">â—€ Cristales</button>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<!-- Main App (ES6 Module) -->
<script type="module" src="src/app.js"></script>

</body>
</html>